<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <script>
        // åŠ¨æ€è®¾ç½®baseæ ‡ç­¾ï¼Œæ ¹æ®ç¯å¢ƒè‡ªåŠ¨é€‰æ‹©è·¯å¾„
        (function() {
            var base = document.createElement('base');
            if (window.location.protocol === 'file:') {
                // æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œä½¿ç”¨ç›¸å¯¹è·¯å¾„
                base.href = './';
            } else {
                // æ£€æµ‹å½“å‰URLè·¯å¾„å’Œä¸»æœºå
                var pathname = window.location.pathname;
                var hostname = window.location.hostname;
                
                // æ£€æµ‹æ˜¯å¦æ˜¯Cloudflareéƒ¨ç½²ï¼ˆé€šè¿‡è‡ªå®šä¹‰åŸŸåï¼‰
                var isCloudflare = hostname !== 'liuzhifu1024.github.io' && 
                                   hostname !== 'localhost' && 
                                   hostname !== '127.0.0.1';
                
                // å¦‚æœè·¯å¾„åŒ…å« /lovetest1/ï¼Œä½¿ç”¨ç»å¯¹è·¯å¾„
                if (pathname.indexOf('/lovetest1/') !== -1 || pathname.startsWith('/lovetest1')) {
                    // Cloudflareå¯èƒ½éœ€è¦ç›¸å¯¹è·¯å¾„æ¥é¿å…SPAé‡å†™é—®é¢˜
                    if (isCloudflare) {
                        base.href = './';
                    } else {
                        base.href = '/lovetest1/';
                    }
                } else {
                    // æœ¬åœ°å¼€å‘æœåŠ¡å™¨æˆ–æ ¹ç›®å½•éƒ¨ç½²ï¼Œä½¿ç”¨ç›¸å¯¹è·¯å¾„
                    base.href = './';
                }
            }
            document.head.insertBefore(base, document.head.firstChild);
        })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ‹è¯•æŠ¥å‘Š - æ‹çˆ±å æœ‰æ¬²æŒ‡æ•°æµ‹è¯•</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/report.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ’•</text></svg>">
</head>
<body>
    <div class="report-page">
        <div class="container">
            <!-- æŠ¥å‘Šå¤´éƒ¨ -->
            <div class="report-header">
                <div>
                    <h1 class="report-title">æ‹çˆ±å æœ‰æ¬²æµ‹è¯•æŠ¥å‘Š</h1>
                    <div class="report-meta">
                        <span id="reportTime"></span>
                        <span id="reportType"></span>
                    </div>
                </div>
                <div class="report-actions">
                    <button class="btn-primary" onclick="exportPDF()">å¯¼å‡ºPDF</button>
                    <button class="btn-primary" onclick="exportImage()">å¯¼å‡ºå›¾ç‰‡</button>
                    <button class="btn-secondary" onclick="goToRecords()">è¿”å›è®°å½•</button>
                    <button class="btn-secondary" onclick="goToHome()">è¿”å›é¦–é¡µ</button>
                </div>
            </div>
            
            <!-- RPIæŒ‡æ•°æ€»è§ˆ -->
            <div class="report-section">
                <h2 class="section-title">
                    <span class="section-icon">ğŸ“Š</span>
                    RPIæŒ‡æ•°æ€»è§ˆ
                </h2>
                <div class="rpi-overview">
                    <div class="rpi-title-with-icon">
                        <span class="love-icon">ğŸ’•</span>
                        <span class="rpi-title-text">æ‹çˆ±å æœ‰æ¬²æŒ‡æ•°ï¼ˆRPIï¼‰</span>
                    </div>
                    <div class="rpi-score" id="rpiScore">0</div>
                    <div class="rpi-grade" id="rpiGrade"></div>
                    <div class="rpi-description" id="rpiDescription"></div>
                    <!-- RPIå¾—åˆ†ä½ç½®è¿›åº¦æ¡ -->
                    <div class="rpi-progress-container">
                        <div class="rpi-progress-labels">
                            <span>0</span>
                            <span>50</span>
                            <span>100</span>
                        </div>
                        <div class="rpi-progress-bar">
                            <div class="rpi-progress-track">
                                <div class="rpi-progress-fill" id="rpiProgressFill"></div>
                                <div class="rpi-progress-marker" id="rpiProgressMarker"></div>
                            </div>
                        </div>
                    </div>
                    <div class="rpi-note" style="margin-top: 15px; font-size: 12px; color: #999;">
                        åŸºäºRPIæŒ‡æ•°è®¡ç®—æ–¹æ³•ï¼Œå‚è€ƒ2025ç‰ˆäººç¾¤å¸¸æ¨¡
                    </div>
                </div>
            </div>
            
            <!-- ç»´åº¦æ‹†è§£ -->
            <div class="report-section">
                <h2 class="section-title">
                    <span class="section-icon">ğŸ”</span>
                    ç»´åº¦æ‹†è§£
                </h2>
                <div class="dimension-grid" id="dimensionGrid">
                    <!-- ç»´åº¦ä¿¡æ¯å°†åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
            
            <!-- å¯è§†åŒ–åˆ†æ -->
            <div class="report-section">
                <h2 class="section-title">
                    <span class="section-icon">ğŸ“ˆ</span>
                    å¯è§†åŒ–åˆ†æ
                </h2>
                <div class="chart-container">
                    <canvas id="barChart" width="800" height="400"></canvas>
                </div>
                <div class="chart-container" style="margin-top: 30px;">
                    <canvas id="radarChart" width="600" height="600"></canvas>
                </div>
            </div>
            
            <!-- ä¸“å®¶å»ºè®® -->
            <div class="report-section">
                <h2 class="section-title">
                    <span class="section-icon">ğŸ’¡</span>
                    ä¸“å®¶å»ºè®®
                </h2>
                <ul class="suggestion-list" id="suggestionList">
                    <!-- å»ºè®®å°†åŠ¨æ€ç”Ÿæˆ -->
                </ul>
            </div>
            
            <!-- æ²Ÿé€šæŠ€å·§æŒ‡å— -->
            <div class="report-section">
                <h2 class="section-title">
                    <span class="section-icon">ğŸ’¬</span>
                    æ²Ÿé€šæŠ€å·§æŒ‡å—
                </h2>
                <div id="communicationTips">
                    <!-- æ²Ÿé€šæŠ€å·§å°†åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>
    </div>

    <script src="js/storage.js"></script>
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/report.js"></script>
</body>
</html>

